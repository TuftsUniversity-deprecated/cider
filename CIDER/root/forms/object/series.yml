method: post

form_error_message: Sorry, there was in error in your submission. Please see below.

model_config:
    resultset: Series

default_args:
    elements:
        Textarea:
            rows: 8

elements:
    - type: Hidden
      name: id

    - type: Text
      label: Series Number
      name: number
      id: number
      constraints:
        - type: Required
        - type: DBIC::Unique
          resultset: Object
          id_field: id
          message: Number is already in use

    - type: Text
      label: Series Title
      name: title
      id: title
      constraints:
        - type: Required

# Start Date (derived)
# End Date (derived)

    - type: Fieldset
      legend: Bulk Date
      elements:            
          - type: Text
            label: From
            name: bulk_date_from
            id: bulk_date_from
            constraint: &Date
              type: Callback
              callback: 'CIDER::Logic::Utils::iso_8601_date'
              message: ISO 8601 date must be YYYY, YYYY-MM, or YYYY-MM-DD

          - type: Text
            label: To
            name: bulk_date_to
            id: bulk_date_to
            constraint: *Date

# Restrictions (derived)

    - type: Textarea
      label: Description
      name: description
      id: description

    - type: Textarea
      label: Arrangement
      name: arrangement

    - type: Textarea
      label: Notes
      name: notes
      id: notes
        
# Extent (derived)

    - type: Label
      label: Accession Number(s)
      name: accession_numbers

    - type: Hidden
      name: parent


    - type: Submit
      name: submit
