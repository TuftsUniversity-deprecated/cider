method: post

form_error_message: Sorry, there was in error in your submission. Please see below.

model_config:
    resultset: Object

default_args:
    elements:
        Textarea:
            rows: 8

elements:
    - type: Text
      label: Item Number
      name: number
      id: number
      constraints:
        - type: Required

    - type: Text
      label: Item Title
      name: title
      id: title
      constraints:
        - type: Required

    - type: Block
      nested_name: item
      elements:
        - type: Select
          label: Creator
          name: creator
          empty_first: 1
          model_config:
            resultset: AuthorityName
            attributes:
              order_by: name

        - type: Fieldset
          legend: Date
          elements:            
              - type: Checkbox
                label: Circa
                name: circa

              - type: Text
                label: From
                name: date_from
                id: date_from
                constraints:
                  - type: Required
                  - &Date
                    type: Callback
                    callback: 'CIDER::Logic::Utils::iso_8601_date'
                    message: ISO 8601 date must be YYYY, YYYY-MM, or YYYY-MM-DD

              - type: Text
                label: To
                name: date_to
                id: date_to
                constraint: *Date

        - type: Select
          label: Restrictions
          name: restrictions
          empty_first: 1
          model_config:
            resultset: ItemRestrictions
            attributes:
              order_by: id

        - type: Fieldset
          legend: Accession
          elements:      
              - type: Text
                name: accession_by
                label: By

              - type: Text
                name: accession_date
                label: Date
                constraint: *Date

              - type: Text
                name: accession_procedure
                label: Procedure

              - type: Text
                name: accession_number
                label: Number

        - type: Text
          name: location
          label: Location Barcode

        - type: Select
          label: DC Type
          name: dc_type
          constraint: Required
          empty_first: 1
          model_config:
            resultset: ItemType
            attributes:
              order_by: name

        - type: Select
          label: Format
          name: format
          empty_first: 1
          model_config:
            resultset: ItemFormat
            attributes:
              order_by: name

        - type: Select
          label: Personal Name
          name: personal_name
          id: personal_name
          empty_first: 1
          model_config:
            resultset: AuthorityName
            attributes:
              order_by: name

        - type: Select
          label: Corporate Name
          name: corporate_name
          id: corporate_name
          empty_first: 1
          model_config:
            resultset: AuthorityName
            attributes:
              order_by: name

        - type: Select
          label: Topic Term
          name: topic_term
          id: topic_term
          empty_first: 1
          model_config:
            resultset: TopicTerm
            attributes:
              order_by: name

        - type: Select
          label: Geographic Term
          name: geographic_term
          id: geographic_term
          empty_first: 1
          model_config:
            resultset: GeographicTerm
            attributes:
              order_by: name

        - type: Textarea
          label: Notes
          name: notes
          id: notes

        - type: Text
          name: funder
          label: Funder

        - type: Text
          name: handle
          label: Handle

        - type: Text
          name: checksum
          label: Checksum

        - type: Text
          name: original_filename
          label: Original Filename

        - type: Text
          name: file_creation_date
          label: File Creation Date
          constraint: *Date

        - type: Fieldset
          legend: Stabilization
          elements:      
              - type: Text
                name: stabilization_by
                label: By

              - type: Text
                name: stabilization_date
                label: Date
                constraint: *Date

              - type: Text
                name: stabilization_procedure
                label: Procedure

              - type: Text
                name: stabilization_notes
                label: Notes

        - type: Fieldset
          legend: Applications
          elements:      
              - type: Text
                name: virus_app
                label: Virus

              - type: Text
                name: checksum_app
                label: Checksum

              - type: Text
                name: media_app
                label: Media

              - type: Text
                name: other_app
                label: Other

        - type: Text
          name: toc
          label: Table of Contents

        - type: Text
          name: rsa
          label: RSA

        - type: Text
          name: technical_metadata
          label: Technical Metadata

        - type: Text
          name: lc_class
          label: LC Class

        - type: Text
          name: file_extension
          label: File Extension
      
    - type: Hidden
      name: parent
      id: parent


    - type: Submit
      name: submit
