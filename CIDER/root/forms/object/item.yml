method: post

form_error_message: Sorry, there was in error in your submission. Please see below.

model_config:
    resultset: Item

default_args:
    elements:
        Textarea:
            rows: 8

elements:
    - type: Text
      label: Item Number
      name: number
      id: number
      constraints:
        - type: Required

    - type: Text
      label: Item Title
      name: title
      id: title
      constraints:
        - type: Required

    # - type: Select
    #   label: Creator
    #   name: creator
    #   empty_first: 1
    #   model_config:
    #     resultset: AuthorityName
    #     attributes:
    #       order_by: name

    - type: Fieldset
      legend: Date
      elements:            
          - type: Checkbox
            label: Circa
            name: circa

          - type: Text
            label: From
            name: date_from
            id: date_from
            constraints:
              - type: Required
              - &Date
                type: Callback
                callback: 'CIDER::Logic::Utils::iso_8601_date'
                message: ISO 8601 date must be YYYY, YYYY-MM, or YYYY-MM-DD

          - type: Text
            label: To
            name: date_to
            id: date_to
            constraint: *Date

    - type: Select
      label: Restrictions
      name: restrictions
      empty_first: 1
      model_config:
        resultset: ItemRestrictions
        attributes:
          order_by: id

    - type: Text
      name: accession_number
      label: Accession Number

    - type: Select
      label: Type
      name: dc_type
      constraint: Required
      model_config:
        resultset: DCType
        attributes:
          order_by: name

    # - type: Select
    #   label: Personal Name
    #   name: personal_name
    #   id: personal_name
    #   empty_first: 1
    #   model_config:
    #     resultset: AuthorityName
    #     attributes:
    #       order_by: name

    # - type: Select
    #   label: Corporate Name
    #   name: corporate_name
    #   id: corporate_name
    #   empty_first: 1
    #   model_config:
    #     resultset: AuthorityName
    #     attributes:
    #       order_by: name

    # - type: Select
    #   label: Topic Term
    #   name: topic_term
    #   id: topic_term
    #   empty_first: 1
    #   model_config:
    #     resultset: TopicTerm
    #     attributes:
    #       order_by: name

    # - type: Select
    #   label: Geographic Term
    #   name: geographic_term
    #   id: geographic_term
    #   empty_first: 1
    #   model_config:
    #     resultset: GeographicTerm
    #     attributes:
    #       order_by: name

    - type: Textarea
      label: Description
      name: description

    - type: Text
      name: volume
      label: Volume

    - type: Text
      name: issue
      label: Issue

    - type: Textarea
      name: abstract
      label: Abstract

    - type: Textarea
      name: citation
      label: Bibliographic Citation
      
    - type: Hidden
      name: parent_id


    - type: Submit
      name: submit
