method: post

form_error_message: Sorry, there was in error in your submission. Please see below.

model_config:
  resultset: Location

elements:
  - type: Hidden
    name: return_uri

  - type: Hidden
    name: title_count

  - type: Repeatable
    nested_name: titles
    counter_name: title_count
    model_config:
      empty_rows: 1
    elements:
      - type: Hidden
        name: id

      - type: Text
        label: Title
        name: title
        model_config:
          delete_if_empty: 1
        constraint:
          - type: Repeatable::Any
            message: This field is required

  - type: Hidden
    name: collection_number_count

  - type: Repeatable
    nested_name: collection_numbers
    counter_name: collection_number_count
    model_config:
      empty_rows: 1
    elements:
      - type: Hidden
        name: id

      - type: Text
        label: Collection Number
        name: number
        model_config:
          delete_if_empty: 1

  - type: Hidden
    name: series_number_count

  - type: Repeatable
    nested_name: series_numbers
    counter_name: series_number_count
    model_config:
      empty_rows: 1
    elements:
      - type: Hidden
        name: id

      - type: Text
        label: Series Number
        name: number
        model_config:
          delete_if_empty: 1

  - type: Select
    label: Unit type
    name: unit_type
    constraint: Required
    empty_first: 1
    model_config:
      resultset: UnitType

  - type: Submit
    name: submit
